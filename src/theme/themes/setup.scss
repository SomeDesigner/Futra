@use "../utilities/css-variables" as cv;

@mixin setup-theme() {
    @include cv.register-vars((
      // Define common HSL properties
      "scheme-main": hsl(#{cv.get-var("scheme-h")}, #{cv.get-var("scheme-s")}, #{cv.get-var("scheme-main-l")}),
      "scheme-mainish": hsl(#{cv.get-var("scheme-h")}, #{cv.get-var("scheme-s")}, #{cv.get-var("scheme-main-bis-l")}),
      "scheme-mainer": hsl(#{cv.get-var("scheme-h")}, #{cv.get-var("scheme-s")}, #{cv.get-var("scheme-main-ter-l")}),
      
      // Background Colors
      "background": hsl(#{cv.get-var("scheme-h")}, #{cv.get-var("scheme-s")}, #{cv.get-var("background-l")}),
      "background-hover": hsl(#{cv.get-var("scheme-h")}, #{cv.get-var("scheme-s")}, calc(#{cv.get-var("background-l")} + #{cv.get-var("hover-background-l-delta")})),
      "background-active": hsl(#{cv.get-var("scheme-h")}, #{cv.get-var("scheme-s")}, calc(#{cv.get-var("background-l")} + #{cv.get-var("active-background-l-delta")})),
  
      // Borders
      "border-weak": hsl(#{cv.get-var("scheme-h")}, #{cv.get-var("scheme-s")}, #{cv.get-var("border-weak-l")}),
      "border": hsl(#{cv.get-var("scheme-h")}, #{cv.get-var("scheme-s")}, #{cv.get-var("border-l")}),
      "border-hover": hsl(#{cv.get-var("scheme-h")}, #{cv.get-var("scheme-s")}, calc(#{cv.get-var("border-l")} + #{cv.get-var("hover-border-l-delta")})),
      "border-active": hsl(#{cv.get-var("scheme-h")}, #{cv.get-var("scheme-s")}, calc(#{cv.get-var("border-l")} + #{cv.get-var("active-border-l-delta")})),
  
      // Text Colors
      "text-weak": hsl(#{cv.get-var("text-h")}, #{cv.get-var("text-s")}, #{cv.get-var("text-weak-l")}),
      "text": hsl(#{cv.get-var("text-h")}, #{cv.get-var("text-s")}, #{cv.get-var("text-l")}),
      "text-strong": hsl(#{cv.get-var("text-h")}, #{cv.get-var("text-s")}, #{cv.get-var("text-strong-l")}),
  
      // Scheme Invert
      "scheme-inverter": hsl(#{cv.get-var("scheme-h")}, #{cv.get-var("scheme-s")}, #{cv.get-var("scheme-invert-ter-l")}),
      "scheme-invertish": hsl(#{cv.get-var("scheme-h")}, #{cv.get-var("scheme-s")}, #{cv.get-var("scheme-invert-bis-l")}),
      "scheme-invert": hsl(#{cv.get-var("scheme-h")}, #{cv.get-var("scheme-s")}, #{cv.get-var("scheme-invert-l")}),
  
      // Link Colors
      "link": hsl(#{cv.get-var("link-h")}, #{cv.get-var("link-s")}, #{cv.get-var("link-l")}),
      "link-text": hsl(#{cv.get-var("link-h")}, #{cv.get-var("link-s")}, #{cv.get-var("link-on-scheme-l")}),
      "link-text-hover": hsl(#{cv.get-var("link-h")}, #{cv.get-var("link-s")}, calc(#{cv.get-var("link-on-scheme-l")} + #{cv.get-var("hover-color-l-delta")})),
      "link-text-active": hsl(#{cv.get-var("link-h")}, #{cv.get-var("link-s")}, calc(#{cv.get-var("link-on-scheme-l")} + #{cv.get-var("active-color-l-delta")})),
  
      // Focus
      "focus-h": #{cv.get-var("link-h")},
      "focus-s": #{cv.get-var("link-s")},
      "focus-l": #{cv.get-var("link-l")},
      "focus-offset": 1px,
      "focus-style": solid,
      "focus-width": 2px,
      "focus-shadow-size": 0 0 0 0.1875em,
      "focus-shadow-alpha": 0.25,
  
      // Code and Pre
      "code": hsl(#{cv.get-var("danger-h")}, #{cv.get-var("danger-s")}, #{cv.get-var("danger-on-scheme-l")}),
      "code-background": #{cv.get-var("background")},
      "pre": #{cv.get-var("text")},
      "pre-background": #{cv.get-var("background")},
  
      // Shadows
      "shadow": (
        0 0.5em 1em -0.125em hsla(#{cv.get-var("shadow-h")}, #{cv.get-var("shadow-s")}, #{cv.get-var("shadow-l")}, 0.1),
        0 0px 0 1px hsla(#{cv.get-var("shadow-h")}, #{cv.get-var("shadow-s")}, #{cv.get-var("shadow-l")}, 0.02)
      )
    ));
  }
  